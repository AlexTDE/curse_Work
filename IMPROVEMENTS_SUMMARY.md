# –£–ª—É—á—à–µ–Ω–∏—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. OCR –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** OCR –ø—ã—Ç–∞–ª—Å—è —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å —Ä—É—Å—Å–∫–∏–π —Ç–µ–∫—Å—Ç –∫–∞–∫ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞: `lang='rus+eng'`
- –ù–∞—Å—Ç—Ä–æ–µ–Ω whitelist —Å–∏–º–≤–æ–ª–æ–≤ (—Ä—É—Å—Å–∫–∏–µ + –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –±—É–∫–≤—ã)
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä PSM —Ä–µ–∂–∏–º–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ —ç–ª–µ–º–µ–Ω—Ç–∞
- Fallback –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, –µ—Å–ª–∏ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

**–ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ –¥–ª—è Tesseract:**

**Windows:**
1. –°–∫–∞—á–∞–π—Ç–µ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫–æ–≤–æ–π –ø–∞–∫–µ—Ç: https://github.com/tesseract-ocr/tessdata
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `rus.traineddata` –≤ –ø–∞–ø–∫—É —Å Tesseract (–æ–±—ã—á–Ω–æ `C:\Program Files\Tesseract-OCR\tessdata\`)

**Linux:**
```bash
sudo apt-get install tesseract-ocr-rus
```

**Mac:**
```bash
brew install tesseract-lang
```

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (—Å–º–µ—â–µ–Ω–∏–µ –≤–ª–µ–≤–æ)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–ª–æ–∫–∏ —Å—ä–µ–∑–∂–∞–ª–∏ –≤–ª–µ–≤–æ, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –±—ã–ª–∏ –Ω–µ—Ç–æ—á–Ω—ã–º–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ YOLOv8
- –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —Å–º–µ—â–µ–Ω–∏—è –≤–ª–µ–≤–æ (—Å–¥–≤–∏–≥ –≤–ø—Ä–∞–≤–æ –Ω–∞ 1-3px –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- –ö–æ—Ä—Ä–µ–∫—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–∞—Ö

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
- –î–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ < 50px: –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –¥–æ 3px –≤–ø—Ä–∞–≤–æ
- –î–ª—è –±–æ–ª—å—à–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤: –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –¥–æ 2px –≤–ø—Ä–∞–≤–æ
- –í—Å–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞ –≤—ã—Ö–æ–¥ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

### 3. –£–ª—É—á—à–µ–Ω–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–Ω–æ–ø–∫–∏ –ø—Ä–∏–Ω–∏–º–∞–ª–∏—Å—å –∑–∞ –∏–Ω–ø—É—Ç, –Ω–∞–¥–ø–∏—Å–∏ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–ª–∏—Å—å –∫–∞–∫ –∫–Ω–æ–ø–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**

#### –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑:
- **–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞:** –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –∫–Ω–æ–ø–æ–∫, –∏–Ω–ø—É—Ç–æ–≤, –Ω–∞–¥–ø–∏—Å–µ–π
- **–ê–Ω–∞–ª–∏–∑ –≥—Ä–∞–Ω–∏—Ü:** –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–ª–∏—á–∏—è —Ä–∞–º–∫–∏ (–∫–Ω–æ–ø–∫–∏ –æ–±—ã—á–Ω–æ –∏–º–µ—é—Ç –≥—Ä–∞–Ω–∏—Ü—ã)
- **–ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞:** –ö–Ω–æ–ø–∫–∏ –∏–º–µ—é—Ç –≤—ã—Å–æ–∫–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç, –Ω–∞–¥–ø–∏—Å–∏ - –Ω–∏–∑–∫–∏–π
- **–ê–Ω–∞–ª–∏–∑ –∫—Ä–∞–µ–≤:** –ö–Ω–æ–ø–∫–∏ –∏–º–µ—é—Ç –±–æ–ª—å—à–µ –∫—Ä–∞–µ–≤, —á–µ–º –Ω–∞–¥–ø–∏—Å–∏

#### –ü—Ä–∞–≤–∏–ª–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏:

**–ö–Ω–æ–ø–∫–∏:**
- ‚úÖ –ï—Å—Ç—å –≥—Ä–∞–Ω–∏—Ü—ã (has_border)
- ‚úÖ –í—ã—Å–æ–∫–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç (> 35)
- ‚úÖ –ú–Ω–æ–≥–æ –∫—Ä–∞–µ–≤ (edge_density > 0.12)
- ‚úÖ –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: "–∫–Ω–æ–ø–∫–∞", "–Ω–∞–π—Ç–∏", "–Ω–∞—Å—Ç—Ä–æ–π–∫–∏", "—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å" –∏ —Ç.–¥.
- ‚úÖ –ö–≤–∞–¥—Ä–∞—Ç–Ω–∞—è/–ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ (aspect_ratio 0.4-4.0)
- ‚úÖ –ú–∞–ª–µ–Ω—å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ = –∫–Ω–æ–ø–∫–∏

**–ù–∞–¥–ø–∏—Å–∏ (Labels):**
- ‚úÖ –ù–ï–¢ –≥—Ä–∞–Ω–∏—Ü (not has_border)
- ‚úÖ –ù–∏–∑–∫–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç (< 35)
- ‚úÖ –ú–∞–ª–æ –∫—Ä–∞–µ–≤ (edge_density < 0.08)
- ‚úÖ –î–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç (> 5 —Å–∏–º–≤–æ–ª–æ–≤)
- ‚úÖ –®–∏—Ä–æ–∫–∏–π —ç–ª–µ–º–µ–Ω—Ç (aspect_ratio > 1.5)

**–ò–Ω–ø—É—Ç—ã:**
- ‚úÖ –û—á–µ–Ω—å —à–∏—Ä–æ–∫–∏–π –∏ –Ω–µ–≤—ã—Å–æ–∫–∏–π (aspect_ratio > 2.5, h < 6% –≤—ã—Å–æ—Ç—ã)
- ‚úÖ –°–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω (mean_brightness > 200)
- ‚úÖ –ù–∏–∑–∫–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç (< 30) - –æ–¥–Ω–æ—Ç–æ–Ω–Ω—ã–π —Ñ–æ–Ω
- ‚úÖ –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: "–≤–≤–µ–¥–∏—Ç–µ", "email", "–ø–∞—Ä–æ–ª—å"

**–ú–∞–ª–µ–Ω—å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ (–∏–∫–æ–Ω–∫–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –ø–æ–∏—Å–∫):**
- ‚úÖ –û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–π —Ä–∞–∑–º–µ—Ä (relative_area < 0.0001)
- ‚úÖ –ö–≤–∞–¥—Ä–∞—Ç–Ω–∞—è —Ñ–æ—Ä–º–∞ (aspect_ratio 0.8-1.2)
- ‚úÖ –í—ã—Å–æ–∫–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç (> 40)
- ‚úÖ –ï—Å—Ç—å –≥—Ä–∞–Ω–∏—Ü—ã –∏–ª–∏ –º–Ω–æ–≥–æ –∫—Ä–∞–µ–≤

#### –ü–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞:
- –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –æ—á–µ–Ω—å —à–∏—Ä–æ–∫–∏–π (> 5.0 aspect_ratio) –∏ –Ω–µ–≤—ã—Å–æ–∫–∏–π - —ç—Ç–æ input, –∞ –Ω–µ button
- –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–π, –º–∞–ª–µ–Ω—å–∫–∏–π –∏ —Å —Ç–µ–∫—Å—Ç–æ–º - —ç—Ç–æ button
- –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –±–µ–∑ —Ç–µ–∫—Å—Ç–∞, –Ω–æ —Å –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ - —ç—Ç–æ button

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ö–æ—Ä—Ä–µ–∫—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ YOLOv8

```python
# –î–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (< 50px)
correction_x_right = max(0, min(3, abs_w_raw * 0.05))  # –î–æ 3px –≤–ø—Ä–∞–≤–æ
x2 = min(w, x2 + correction_x_right)  # –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —Å–º–µ—â–µ–Ω–∏—è –≤–ª–µ–≤–æ
```

### –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞

```python
button_words = ['–∫–Ω–æ–ø–∫–∞', 'button', '–Ω–∞–π—Ç–∏', 'search', '–Ω–∞—Å—Ç—Ä–æ–π–∫–∏', 'settings', ...]
has_button_word = any(word in text_lower for word in button_words)

if has_button_word and element_type != 'button':
    element_type = 'button'
    type_confidence = 0.8
```

### –ê–Ω–∞–ª–∏–∑ –≥—Ä–∞–Ω–∏—Ü

```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—Ä–∞—è —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã
edge_std = (std(top_edge) + std(bottom_edge) + std(left_edge) + std(right_edge)) / 4
has_border = edge_std > 15  # –ß–µ—Ç–∫–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ –∏–º–µ–µ—Ç –≤—ã—Å–æ–∫–æ–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚ùå –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å—ä–µ–∑–∂–∞–ª–∏ –≤–ª–µ–≤–æ –Ω–∞ 2-5px
- ‚ùå –ö–Ω–æ–ø–∫–∏ –ø—Ä–∏–Ω–∏–º–∞–ª–∏—Å—å –∑–∞ –∏–Ω–ø—É—Ç (–æ—Å–æ–±–µ–Ω–Ω–æ —à–∏—Ä–æ–∫–∏–µ)
- ‚ùå –ù–∞–¥–ø–∏—Å–∏ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–ª–∏—Å—å –∫–∞–∫ –∫–Ω–æ–ø–∫–∏
- ‚ùå –ú–∞–ª–µ–Ω—å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–ª–∏—Å—å
- ‚ùå OCR –Ω–µ —Ä–∞–±–æ—Ç–∞–ª —Å —Ä—É—Å—Å–∫–∏–º —è–∑—ã–∫–æ–º

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–æ—á–Ω—ã–µ (–∫–æ—Ä—Ä–µ–∫—Ü–∏—è —Å–º–µ—â–µ–Ω–∏—è)
- ‚úÖ –ö–Ω–æ–ø–∫–∏ –∏ –∏–Ω–ø—É—Ç—ã —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ù–∞–¥–ø–∏—Å–∏ –∏ –∫–Ω–æ–ø–∫–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ú–∞–ª–µ–Ω—å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç—Å—è
- ‚úÖ OCR —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä—É—Å—Å–∫–∏–º —è–∑—ã–∫–æ–º

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ –¥–ª—è Tesseract** –¥–ª—è –ª—É—á—à–µ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ - –µ—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤—Å–µ –µ—â–µ —Å—ä–µ–∑–∂–∞—é—Ç, –º–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ü–∏—é
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ—Ä–æ–≥–∏** –≤ `classify_element_type` –ø–æ–¥ –≤–∞—à–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ UI —ç–ª–µ–º–µ–Ω—Ç—ã

---

**–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π:** 2025-11-26

